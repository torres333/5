function gestionarXml(a){var b=a.responseXML,c=b.getElementsByTagName("title")[0].innerHTML;ponerDatosInputHtml(c),respuestaInput=b.getElementById("jams001").getElementsByTagName("answer")[0].innerHTML;var d=b.getElementsByTagName("title")[6].innerHTML;ponerDatosInput2Html(d),respuestaInput2=b.getElementById("jams007").getElementsByTagName("answer")[0].innerHTML;var e=b.getElementsByTagName("title")[1].innerHTML,f=[],g=b.getElementById("jams002").getElementsByTagName("option").length;for(i=0;i<g;i++)f[i]=b.getElementById("jams002").getElementsByTagName("option")[i].innerHTML;ponerDatosSelectHtml(e,f),respuestaSelect=parseInt(b.getElementsByTagName("answer")[2].innerHTML);var h=b.getElementsByTagName("title")[7].innerHTML,j=[],g=b.getElementById("jams008").getElementsByTagName("option").length;for(i=0;i<g;i++)j[i]=b.getElementById("jams008").getElementsByTagName("option")[i].innerHTML;ponerDatosSelectHtml2(h,j),respuestaSelect2=parseInt(b.getElementsByTagName("answer")[3].innerHTML);var k=b.getElementsByTagName("title")[3].innerHTML,l=[],g=b.getElementById("jams004").getElementsByTagName("option").length;for(i=0;i<g;i++)l[i]=b.getElementById("jams004").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckboxHtml(k,l);var m=b.getElementById("jams004").getElementsByTagName("answer").length;for(i=0;i<m;i++)respuestasCheckbox[i]=b.getElementById("jams004").getElementsByTagName("answer")[i].innerHTML;var n=b.getElementsByTagName("title")[5].innerHTML,o=[],g=b.getElementById("jams006").getElementsByTagName("option").length;for(i=0;i<g;i++)o[i]=b.getElementById("jams006").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckboxHtml2(n,o);var m=b.getElementById("jams006").getElementsByTagName("answer").length;for(i=0;i<m;i++)respuestasCheckbox2[i]=b.getElementById("jams006").getElementsByTagName("answer")[i].innerHTML;var p=b.getElementsByTagName("title")[4].innerHTML,q=[],g=b.getElementById("jams005").getElementsByTagName("option").length;for(i=0;i<g;i++)q[i]=b.getElementById("jams005").getElementsByTagName("option")[i].innerHTML;ponerDatosRadio(p,q),respuestaRadio=b.getElementsByTagName("answer")[2].innerHTML;var r=b.getElementsByTagName("title")[9].innerHTML,s=[],g=b.getElementById("jams010").getElementsByTagName("option").length;for(i=0;i<g;i++)s[i]=b.getElementById("jams010").getElementsByTagName("option")[i].innerHTML;ponerDatosRadio2(r,s),respuestaRadio2=b.getElementsByTagName("answer")[1].innerHTML;var t=b.getElementsByTagName("title")[2].innerHTML,u=[],g=b.getElementById("jams003").getElementsByTagName("option").length;for(i=0;i<g;i++)u[i]=b.getElementById("jams003").getElementsByTagName("option")[i].innerHTML;ponerDatosMultipleSelectHtml(t,u);var m=b.getElementById("jams003").getElementsByTagName("answer").length;for(i=0;i<m;i++)respuestasMultiple[i]=b.getElementById("jams003").getElementsByTagName("answer")[i].innerHTML;var v=b.getElementsByTagName("title")[8].innerHTML,w=[],g=b.getElementById("jams009").getElementsByTagName("option").length;for(i=0;i<g;i++)w[i]=b.getElementById("jams009").getElementsByTagName("option")[i].innerHTML;ponerDatosMultipleSelectHtml2(v,w);var m=b.getElementById("jams009").getElementsByTagName("answer").length;for(i=0;i<m;i++)respuestasMultiple2[i]=b.getElementById("jams009").getElementsByTagName("answer")[i].innerHTML}function ponerDatosInputHtml(a){document.getElementById("tituloInput").innerHTML=a}function ponerDatosInput2Html(a){document.getElementById("tituloInput2").innerHTML=a}function ponerDatosSelectHtml(a,b){document.getElementById("tituloSelect").innerHTML=a;var c=document.getElementsByTagName("select")[0];for(i=0;i<b.length;i++){var d=document.createElement("option");d.text=b[i],d.value=i+1,c.options.add(d)}}function ponerDatosSelectHtml2(a,b){document.getElementById("tituloSelect2").innerHTML=a;var c=document.getElementsByTagName("select")[2];for(i=0;i<b.length;i++){var d=document.createElement("option");d.text=b[i],d.value=i+1,c.options.add(d)}}function ponerDatosCheckboxHtml(a,b){var c=document.getElementById("checkboxDiv");for(document.getElementById("tituloCheckbox").innerHTML=a,i=0;i<b.length;i++){var d=document.createElement("input"),e=document.createElement("label");e.innerHTML=b[i],e.setAttribute("for","chckbx_"+i),d.type="checkbox",d.name="chckbx",d.id="chckbx_"+i,c.appendChild(d),c.appendChild(e),c.appendChild(document.createElement("br"))}}function ponerDatosCheckboxHtml2(a,b){var c=document.getElementById("checkboxDiv2");for(document.getElementById("tituloCheckbox2").innerHTML=a,i=0;i<b.length;i++){var d=document.createElement("input"),e=document.createElement("label");e.innerHTML=b[i],e.setAttribute("for","chckbx2_"+i),d.type="checkbox",d.name="chckbx2",d.id="chckbx2_"+i,c.appendChild(d),c.appendChild(e),c.appendChild(document.createElement("br"))}}function ponerDatosRadio(a,b){var c=document.getElementById("radioDiv");for(document.getElementById("tituloRadio").innerHTML=a,i=0;i<b.length;i++){var d=document.createElement("input"),e=document.createElement("label");e.innerHTML=b[i],e.setAttribute("for","rd_"+i),d.type="radio",d.name="rd",d.id="rd_"+i,c.appendChild(d),c.appendChild(e),c.appendChild(document.createElement("br"))}}function ponerDatosRadio2(a,b){var c=document.getElementById("radioDiv2");for(document.getElementById("tituloRadio2").innerHTML=a,i=0;i<b.length;i++){var d=document.createElement("input"),e=document.createElement("label");e.innerHTML=b[i],e.setAttribute("for","rd2_"+i),d.type="radio",d.name="rd2",d.id="rd2_"+i,c.appendChild(d),c.appendChild(e),c.appendChild(document.createElement("br"))}}function ponerDatosMultipleSelectHtml(a,b){document.getElementById("tituloSelMul").innerHTML=a;var c=document.getElementsByTagName("select")[1];for(i=0;i<b.length;i++){var d=document.createElement("option");d.text=b[i],d.value=i+1,c.options.add(d)}}function ponerDatosMultipleSelectHtml2(a,b){document.getElementById("tituloSelMul2").innerHTML=a;var c=document.getElementsByTagName("select")[3];for(i=0;i<b.length;i++){var d=document.createElement("option");d.text=b[i],d.value=i+1,c.options.add(d)}}function corregirText(){var a=formElement.elements[0].value;a.toLowerCase()==respuestaInput?(darRespuestaHtml("1ª pregunta: 1 punto"),nota+=1):darRespuestaHtml("1ª pregunta: 0 puntos")}function corregirText2(){var a=document.getElementById("text2").value;a.toLowerCase()==respuestaInput2?(darRespuestaHtml("6ª pregunta: 1 punto"),nota+=1):darRespuestaHtml("6ª pregunta: 0 puntos")}function corregirSelect(){var a=document.getElementById("sel");a.selectedIndex-1==respuestaSelect?(darRespuestaHtml("2ª pregunta: 1 punto"),nota+=1):darRespuestaHtml("2ª pregunta: 0 puntos")}function corregirSelect2(){var a=document.getElementById("sel2");a.selectedIndex-1==respuestaSelect2?(darRespuestaHtml("7ª pregunta: 1 punto"),nota+=1):darRespuestaHtml("7ª pregunta: 0 puntos")}function corregirCheckbox(){var a=0,b=formElement,c=[];for(i=0;i<b.chckbx.length;i++)if(b.chckbx[i].checked){for(c[i]=!1,j=0;j<respuestasCheckbox.length;j++)i==respuestasCheckbox[j]&&(c[i]=!0);c[i]?(nota+=1/respuestasCheckbox.length,a+=1/respuestasCheckbox.length):nota-=1/respuestasCheckbox.length}darRespuestaHtml(1!=a?"3ª pregunta: "+a+" puntos":"3ª pregunta: "+a+" punto")}function corregirCheckbox2(){var a=0,b=formElement,c=[];for(i=0;i<b.chckbx2.length;i++)if(b.chckbx2[i].checked){for(c[i]=!1,j=0;j<respuestasCheckbox2.length;j++)i==respuestasCheckbox2[j]&&(c[i]=!0);c[i]?(nota+=1/respuestasCheckbox2.length,a+=1/respuestasCheckbox2.length):nota-=1/respuestasCheckbox2.length}darRespuestaHtml(1!=a?"8ª pregunta: "+a+" puntos":"8ª pregunta: "+a+" punto")}function corregirRadio(){var a=0,b=formElement,c=null;for(i=0;i<b.rd.length;i++)b.rd[i].checked&&(c=!1,i==respuestaRadio&&(c=!0),c&&(a+=1,nota+=1));darRespuestaHtml(1!=a?"4ª pregunta: "+a+" puntos":"4ª pregunta: "+a+" punto")}function corregirRadio2(){var a=0,b=formElement,c=null;for(i=0;i<b.rd2.length;i++)b.rd2[i].checked&&(c=!1,i==respuestaRadio2&&(c=!0),c&&(a+=1,nota+=1));darRespuestaHtml(1!=a?"9ª pregunta: "+a+" puntos":"9ª pregunta: "+a+" punto")}function corregirMultiple(){for(var b=[],c=document.getElementById("selMul"),d=0,e=0;e<c.options.length;e++)if(c.options[e].selected)for(var f=0;f<respuestasMultiple.length;f++)c.options[e].value==respuestasMultiple[f]&&b.push(c.options[e].value);b.length>0&&(d=b.length/respuestasMultiple.length,nota+=d),darRespuestaHtml(1!=d&0!=d?"5ª pregunta: "+d.toFixed(1)+" puntos":0==d?"5ª pregunta: 0 puntos":"5ª pregunta: 1 punto")}function corregirMultiple2(){for(var b=[],c=document.getElementById("selMul2"),d=0,e=0;e<c.options.length;e++)if(c.options[e].selected)for(var f=0;f<respuestasMultiple2.length;f++)c.options[e].value==respuestasMultiple2[f]&&b.push(c.options[e].value);b.length>0&&(d=b.length/respuestasMultiple2.length,nota+=d),darRespuestaHtml(1!=d&0!=d?"10ª pregunta: "+d.toFixed(1)+" puntos":0==d?"10ª pregunta: 0 puntos":"10ª pregunta: 1 punto")}function darRespuestaHtml(a){document.getElementById("content").style.display="none",document.getElementById("inicio").style.display="none",document.getElementById("resultadosDiv").style.display="block",document.getElementById("resultadoTotal").style.display="block";var b=document.createElement("p"),c=document.createTextNode(a);b.appendChild(c),document.getElementById("resultadosDiv").appendChild(b)}function tituloCorreccion(){darRespuestaHtml("Puntuación: ")}function presentarNota(){var a=document.createElement("p"),b=document.createTextNode("Tu nota es: "+nota.toFixed(2));a.appendChild(b),document.getElementById("resultadoTotal").appendChild(a)}function inicializar(){document.getElementById("resultadosDiv").innerHTML="",nota=0}function mostrar(){return""==document.getElementById("nombre").value?(document.getElementById("nombre").focus(),alert("Hay campos vacíos!"),!1):""==document.getElementById("apellidos").value?(document.getElementById("apellidos").focus(),alert("Hay campos vacíos!"),!1):""==document.getElementById("dni").value?(document.getElementById("dni").focus(),alert("Hay campos vacíos!"),!1):""==document.getElementById("email").value?(document.getElementById("email").focus(),alert("Hay campos vacíos!"),!1):(document.getElementById("inicio").style.display="none",document.getElementById("content").style.display="block",!1)}var formElement=null,respuestaInput=null,respuestaInput2=null,respuestaSelect=null,respuestaSelect2=null,respuestasCheckbox=[],respuestasCheckbox2=[],respuestaRadio=null,respuestaRadio2=null,respuestasMultiple=[],respuestasMultiple2=[],nota=0;window.onload=function(){formElement=document.getElementById("myform"),formElement.onsubmit=function(){return inicializar(),tituloCorreccion(),corregirText(),corregirSelect(),corregirCheckbox(),corregirRadio(),corregirMultiple(),corregirText2(),corregirSelect2(),corregirCheckbox2(),corregirRadio2(),corregirMultiple2(),presentarNota(),!1},window.onmousedown=function(a){var b=a.target;if("option"==b.tagName.toLowerCase()&&b.parentNode.hasAttribute("multiple")){a.preventDefault(),b.hasAttribute("selected")?b.removeAttribute("selected"):b.setAttribute("selected","");var c=b.parentNode.cloneNode(!0);b.parentNode.parentNode.replaceChild(c,b.parentNode)}};var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionarXml(this)},a.open("GET","xml/preguntas.xml",!0),a.send(),document.getElementById("respuestas").onclick=function(){document.getElementById("resultadoTotal").style.display="none",document.getElementById("resultadosDiv").style.display="block"}};